<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    Obsazenost kurtů na&nbsp;badminton v&nbsp;Brně
  </h1>
  <div class="filters">
    <div class="filterBox dateBox">
      <img src="./assets/images/date_icon.svg" class="dateIcon" alt="Datum:" title="Datum:"> 
      <input [ngModel]="today" (ngModelChange)="setDate($event)" type="date" class="dateInput" >
    </div>
    <div class="filterBox priceGroupBox">
      <img src="./assets/images/student_icon.svg" class="studentIcon" alt="Cenová skupina:" title="Cenová skupina:"> 
      <select [(ngModel)]="priceGroupId" class="priceGroupSelect">
        <option *ngFor="let priceGroup of priceGroups" [value]="priceGroup.id">{{priceGroup.name}}</option>
      </select>  
    </div>
  </div>
  <div class="reservationBox">
      <div class="reservationTable" *ngIf="availabilityObserver | async as availability; else loading" [ngClass]="{'firstColumnFixed' : firstColumnFixed}">

        <div class="reservationTableRow reservationTableHeader">
            <div class="reservationTableCell hourCell">&nbsp;</div>
            <a href="{{arena.skymUrl}}" target="_blank" rel="noopener" title="Zobrazit detail haly na sKým.cz." class="reservationTableCell arenaCell" *ngFor="let arena of arenas">
              {{arena.name}}
            </a>
        </div>

        <div class="reservationTableRow" *ngFor="let hour of hours">       
            <div class="reservationTableCell hourCell">{{ hour }}</div>
            <div class="reservationTableCell arenaCell" *ngFor="let arena of arenas" [ngClass]="{'timeSlot': true, 'tableCell': true, 'full': availability[arena.playgroundId][hour].availability == 0, 'closed': !availability[arena.playgroundId][hour].price, 'available': availability[arena.playgroundId][hour].availability > 0 && availability[arena.playgroundId][hour].price }">
              <a *ngIf="availability[arena.playgroundId][hour].availability != 0 && availability[arena.playgroundId][hour].price" class="tableCellWrap" href="{{getReservationUrl(arena.arenaId, today)}}" target="_blank" rel="noopener" title="Rezervovat kurt přes sKým.cz.">
                  <img src="./assets/images/price_icon.svg" class="priceIcon" alt="Cena:" title="Cena za 1 hodinu"> {{ availability[arena.playgroundId][hour].price[priceGroupId] }} Kč
                  <img src="./assets/images/court_icon.svg" class="courtIcon" alt="Kurtů:" title="Počet volných kurtů"> {{ availability[arena.playgroundId][hour].availability }}
              </a>
              <span *ngIf="availability[arena.playgroundId][hour].availability == 0 && availability[arena.playgroundId][hour].price" class="tableCellWrap" title="Plně obsazeno">
                  <img src="./assets/images/price_icon.svg" class="priceIcon" alt="Cena:" title="Cena za 1 hodinu"> {{ availability[arena.playgroundId][hour].price[priceGroupId] }} Kč
                  <img src="./assets/images/court_icon.svg" class="courtIcon" alt="Kurtů:" title="Počet volných kurtů"> {{ availability[arena.playgroundId][hour].availability }}
              </span>              
              <span *ngIf="!availability[arena.playgroundId][hour].price" class="tableCellWrap" title="Zavřeno">&nbsp;</span>
            </div>
        </div> 
      </div>



      
    <ng-template #loading let-availability>
      <div class="lds-bars">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </ng-template>


    </div>  

    <footer id="pageFooter">
      © 2017 <a href="https://skym.cz" target="_blank" title="Otevřít stránku sKým.cz">sKým.cz</a> &middot; v1
    </footer>
</div>